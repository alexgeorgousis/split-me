<div id="<%= dom_id order %>" class="w-full border border-gray-200 dark:border-gray-700 rounded-lg p-6 space-y-4 bg-white dark:bg-gray-800 hover:shadow-md dark:hover:shadow-gray-900/50 transition-shadow">
  <div>
    <strong class="block font-medium mb-1">Total:</strong>
    <% if order.receipt && order.receipt.processed? %>
      £<%= order.receipt_total %>
    <% else %>
      <span class="text-gray-500 dark:text-gray-400">Process receipt to calculate total</span>
    <% end %>
  </div>

  <div>
    <% if order.receipt %>
      <% if order.receipt.processed? %>
        <div class="space-y-2">
          <p class="text-green-600 dark:text-green-400">✓ Receipt processed (<%= order.receipt_items_count %> items found)</p>
        </div>
      <% else %>
        <div class="space-y-2 relative z-20 inline-block">
          <%= button_to "Process Receipt", process_receipt_order_path(order), method: :post, class: "rounded-md px-3.5 py-2.5 bg-blue-600 hover:bg-blue-500 dark:bg-blue-700 dark:hover:bg-blue-600 text-white cursor-pointer" %>
        </div>
      <% end %>
    <% else %>
      <span class="text-gray-500 dark:text-gray-400">No receipt uploaded</span>
    <% end %>
  </div>
</div>
